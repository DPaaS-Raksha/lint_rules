<!-- This file is automatically generated by `cv doc`. Do not edit directly. -->

Each container of a Pod can specify one or more of the following:

	spec.containers[].resources.limits.cpu
	spec.containers[].resources.limits.memory
	spec.containers[].resources.requests.cpu
	spec.containers[].resources.requests.memory

Although requests and limits can only be specified on individual containers, it is convenient to talk about Pod resource requests and limits. A Pod resource request/limit for a particular resource type is the sum of the resource requests/limits of that type for each container in the Pod.

It is critical to ensure that the consumer of Charts understands what resources are required for deploying a workload. As such, it is often a best practice to declare these values in the values.yaml and also allow the deployer of a chart the ability to request or limit the capacity a chart (or set of charts) can consume.

Kubernetes can set requests and limits on a per-process type. Which means you guarantee &lt;requests&gt; amount of resource for a process as well as limit the process from using more than &lt;limits&gt;. Note: that a container will be terminated if it attempts to use more than its memory limit.

By default, Kubernetes will set &lt;requests&gt; equal to &lt;limit&gt; if requests are not set.

As such, `0 <= requests <= limits`.


### Related Links
* [K8s Resource Requests and Limits](https://playbook.cloudpaklab.ibm.com/resources/)
* [Meaning of CPU](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-cpu)
* [Meaning of Memory](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-memory)

### Linter Rule
**ContainerDefinesResources** - Each container in a pod must specify valid memory limits and requests, and at least one of limits or requests for CPU.

#### Severity
ERROR


#### Passing Examples

**Example: All resources specified**

_pod.yaml (rendered from test default)_:

    spec:
      containers:
      - resources:
          limits:
            cpu: "1"
            memory: 512Mi
          requests:
            cpu: "0.5"
            memory: 256Mi
    

<hr>

**Example: Valid resource definitions with CPU requests but not limits**

_pod.yaml (rendered from test default)_:

    spec:
      containers:
      - resources:
          limits:
            memory: 512Mi
          requests:
            cpu: "0.5"
            memory: 256Mi
    

<hr>


#### Failing Examples

**Example: Missing memory requests**

_pod.yaml (rendered from test default)_:

    spec:
      containers:
      - resources:
          limits:
            cpu: "1"
            memory: 512Mi
          requests:
            cpu: "0.5"
    



Messages:
* `[ERROR] pod.yaml: spec.containers[0].resources.requests.memory not defined (ContainerDefinesResources)`
<hr>

**Example: Invalid resource values**

_pod.yaml (rendered from test default)_:

    spec:
      containers:
      - resources:
          limits:
            cpu: "1"
            memory: 256Li
          requests:
            cpu: 0.5X
            memory: 1Gi
    



Messages:
* `[ERROR] pod.yaml: invalid value at spec.containers[0].resources.limits.memory: quantities must match the regular expression '^([+-]?[0-9.]+)([eEinumkKMGTP]*[-+]?[0-9]*)$' (ContainerDefinesResources)`
* `[ERROR] pod.yaml: invalid value at spec.containers[0].resources.requests.cpu: quantities must match the regular expression '^([+-]?[0-9.]+)([eEinumkKMGTP]*[-+]?[0-9]*)$' (ContainerDefinesResources)`
<hr>

#### Keywords
* [Miscellaneous](../standards/Miscellaneous.md)
